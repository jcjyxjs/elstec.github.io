---
layout: post
title: 使用hexo搭建静态博客+Github Pages
slug: hexoblog
date: 2020-02-07 19:08
status: publish
author: jcjyxjs
categories:
  - 建站
tags:
  - hexo
  - 静态博客
  - 建站
  - Github
---


# 使用hexo搭建静态博客步骤

1.安装Git

2.安装Node.js

3.安装hexo

**其次，才是将hexo部署到例如Github等的平台**

## 1.安装Git

Windows & Mac：访问Git官网 https://git-scm.com/downloads 下载安装即可

Linux：同样访问Git官网（同上）查看安装方法

***其实可以不安装Git，不安装并部署的方法放下翻。***

## 2.安装Node.js

访问官网 https://nodejs.org/zh-cn/download/ 下载安装包下一步即可

*需要注意的是，在安装到`Custom Setup`这一步时，记得选`Add to Path`*

## 3.安装hexo

- 首先创建一个用来放置博客的文件夹，然后cd到该目录

- 然后安装hexo：`npm i -g hexo`

- 安装完成之后可以输入`hexo -v`查看版本
- 最后输入`hexo init`初始化hexo完成安装

安装完成之后可在目录看到以下一些文件

| node_modules     | **依赖**                   |
| ---------------- | :------------------------- |
| **scaffolds**    | **生成网页的模板**         |
| **source**       | **Markdown文章**           |
| **themes**       | **主题**                   |
| **_config.yml**  | **博客配置文件**           |
| **db.json**      | **source解析得到**         |
| **package.json** | **所需模块项目的配置信息** |
| **Public**       | **存放生成页面**           |

这个时候输入`hexo s`就会在本地`localhost:4000`启动了

常用命令 `hexo s` 启动  `hexo g` 生成网页文件  `hexo d` 部署`hexo clean`清理你之前生成的东西

具体的命令参数以及解释可以在官网看到 https://hexo.io/zh-cn/docs/commands 

## 4.部署到Github

### 第一种方法

- 首先需要安装一个部署插件 `npm install hexo-deployer-git --save`

- 然后登录Github，并新建一个Repositories(仓库)，name修改成你想要的名称，注意一定要选择public，不然别人没法访问你的网站，点Create进行创建

![](https://cdn.elstec.cn/12/1.png?imageMogr2/format/webp/interlace/1/quality/100)

- 复制你仓库的地址比方说我新建的仓库是`name.github.io`，那么你的仓库地址就是`https://github.com/jcjyxjs/name.github.io.git`，仓库链接可在仓库页面页面复制到

- 修改博客根目录下的`_config.yml` 代码第100行。type就git，repo就是上面复制的仓库地址，branch就是仓库分支，默认master。repo和branch需要手动打上去

  ~~~json
  deploy:
  
  type: 'git'
  
  repo: https://github.com/jcjyxjs/name.github.io.git
  
  branch: master
  ~~~

- 回到git bash，输入以下两条命令

  `git config --global user.name "yourname"`

  `git config --global user.email "youremail"`

- 创建SSH

  `ssh-keygen -t rsa -C "youremail"`

- 找到这个`.ssh`的文件夹。里面有`id_rsa`和`id_rsa.pub`

- 然后在你的github settings里面新建一个SSH key，把你的`id_ras.pub`中的内容填到key里面点击生成

  可以验证是否成功`ssh -T git@github.com`

- cd进入博客目录，输入`hexo g`，等待网页文件生成，然后输入`hexo d`进行部署，会提示输入你的github邮箱和密码，然后就自动部署了

### 第二种方法

- 安装Github Desktop，进入官网 https://desktop.github.com/ 下载安装并打开

- 登录你的github账户

- 选择clone的仓库，会在你的本地生成一个跟仓库关联的文件夹

- 代码有改动之后生成新的网页，复制public文件夹内的文件到你仓库文件夹，打开Github Desktop

  ![](https://cdn.elstec.cn/12/2.png?imageMogr2/format/webp/interlace/1/quality/100)

- 点击`Commit to master` master是你的分支名字，然后点击右上角的`Pull`就可以提交了

### Github仓库绑定域名

- 在仓库页面点击`Settings`

- 往下拉可以看到`Github Pages`

- 把None改成你想要显示的分支，这项操作会自动刷新页面。

- 刷新之后会出现`Custom domain`选项，填入你的域名，点击Save

- 然后修改你的域名解析CNAME为

`www | CNAME | name.github.io`

`@   | CNAME | name.github.io`

过一会儿就可以用自定义域名看到了

#### 关于其他东西以后再说，就是这样。

